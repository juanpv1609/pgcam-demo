/*!
 * Start Bootstrap - SB Admin 2 v4.0.7 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

function isValidEmail(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(e)}function SendFormLogin(e){tecla=document.all?e.keyCode:e.which,13==tecla&&(e.preventDefault(),document.login.submit())}function SendFormRegister(){var e=$("#nombre").val(),a=$("#apellido").val(),r=$("#email").val(),o=$("#clave1").val(),t=$("#clave2").val(),n=$("#dir").val();$("#register").submit((function(i){i.preventDefault(),""==!e&&""==!a&&""==!r&&""==!o&&""==!t&&(o==t?$.ajax({dataType:"json",type:"POST",url:n+"/auth/agregar",data:"nombre="+e+"&apellido="+a+"&email="+r+"&clave="+o,beforeSend:function(e){},success:function(e){Swal.fire({position:"top",title:"Correcto!",text:"Cuenta creada exitosamente.",width:"22rem",icon:"success",confirmButtonText:"Aceptar"}).then(e=>{window.location.href=n+"/auth/login"})},error:function(e,a,r){$("#clave_igual").addClass("alert alert-danger").html("El correo ingresado ya existe").show(100).delay(2500).hide(100)},complete:function(e,a){}}):$("#clave_igual").addClass("alert alert-danger").html("Deben coincidir las contraseñas").show(100).delay(2500).hide(100))}))}function logout(){var e=$("#dir").val();Swal.fire({position:"top",title:"Está seguro?",text:"¡Seleccione 'Aceptar' a continuación si está listo para finalizar su sesión actual!",icon:"question",width:"22rem",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar"}).then(a=>{a.value&&Swal.fire({position:"top",title:"Correcto!",text:"Ah finalizado su sesion.",width:"22rem",icon:"success",confirmButtonText:"Aceptar"}).then(a=>{window.location.href=e+"/auth/logout"})})}function validarCorreo(){$("#recuperar").removeClass("border border-danger").addClass("border border-success"),$("#correoHelp").removeClass("badge badge-danger text-wrap").addClass("badge badge-success text-wrap").html("")}function recuperarclave(){var e=$("#recuperar").val(),a=$("#dir").val();""==!e&&isValidEmail(e)?$.ajax({dataType:"json",type:"POST",url:a+"/auth/recupera",data:"recuperar="+e,beforeSend:function(e){$("#mensaje").addClass("alert alert-info").html('<i class="fas fa-spinner fa-pulse"></i><span> Espere por favor, enviando correo electronico...</span>')},success:function(e){""==!e.data.correo?Swal.fire({position:"top",title:"Correcto!",text:"Correo electronico enviado.",width:"22rem",icon:"success",confirmButtonText:"Aceptar"}).then(e=>{window.location.href=a+"/auth/login"}):$("#mensaje").addClass("alert alert-info").html('<i class="fas fa-exclamation-circle"></i><span> El correo ingresado no existe en el sistema!</span>')},error:function(e,a,r){},complete:function(e,a){}}):($("#recuperar").removeClass("border border-success").addClass("border border-danger"),$("#correoHelp").removeClass("badge badge-success text-wrap").addClass("badge badge-danger text-wrap").html("<span>Ingrese un correo electronico valido!</span>"))}